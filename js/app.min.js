function resizeWindow(){wh=$(window).height(),ww=$(window).width(),tbh=$(".top-bar").height(),$(".header").height(wh-tbh),$(".header").width(ww)}function dataCounter(){var a=7975,b=4604,c=1431041857294,d=$.now(),e=1e9,f=d-c,g=b/365/24/60/60/1e3;eb_new_data_amount=a+f*g,gb_new_data_amount=eb_new_data_amount*e,$(".data_counter").text(Math.ceil(gb_new_data_amount).toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")+" GB")}function createIconChart(){var a=$("#pi_chart").get(0).getContext("2d"),b=$("#si_chart").get(0).getContext("2d"),c=[{value:0,color:color_1},{value:100,color:"#2E3C55"}],d=[{value:0,color:"#BA2D0B"},{value:10,color:"#452B34"}];options={responsive:!0,maintainAspectRatio:!0,segmentShowStroke:!1,percentageInnerCutout:78,animationSteps:60,animationEasing:"easeOutQuart",animateRotate:!0,animateScale:!1,showTooltips:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'},pi_chart=new Chart(a).Doughnut(c,options),si_chart=new Chart(b).Doughnut(d,options),$(".increase-button").click(function(){$(".icon-chart a").removeClass("active"),$(this).addClass("active"),pi=parseInt($(this).data("productivity-increase")),pi_chart.segments[0].value=pi,pi_chart.segments[1].value=100-pi,pi_chart.update(),$(".pi-number span").html("+"+pi+" %"),si=$(this).data("sales-increase"),si_chart.segments[0].value=si,si_chart.segments[1].value=10-si,si_chart.update(),$(".si-number span").html("+"+si+" $")}),$(".icon-chart a.first").trigger("click")}function createCanvas(){function a(){this.x=Math.random()*d.width,this.y=Math.random()*d.height,this.vx=-.5+Math.random(),this.vy=-.5+Math.random(),this.radius=7*Math.random()}function b(){e.clearRect(0,0,d.width,d.height);for(var b=0;b<h.nb;b++)h.array.push(new a),dot=h.array[b],dot.create();dot.line(),dot.animate()}var c=$(".header-mesh");c.html("");var d=$("<canvas></canvas>").appendTo(c)[0],e=d.getContext("2d"),f=color_1;idle=null,i,d.width=2e3,d.height=2e3,d.style.display="block",e.fillStyle="#5595C2",e.lineWidth=.1,e.strokeStyle=f;var g=1,h={nb:400*g,distance:150*g,d_radius:350*g,array:[]},i={x:d.width/2,y:10*d.height/100};a.prototype={create:function(){e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.fill()},animate:function(){for(var a=0,b=!1;a<h.nb;a++)b=h.array[a],b.y<0||b.y>d.height?(b.vx=b.vx,b.vy=-b.vy):(b.x<0||b.x>d.width)&&(b.vx=-b.vx,b.vy=b.vy),b.x+=b.vx,b.y+=b.vy},line:function(){for(var a=0;a<h.nb;a++)for(var b=0;b<h.nb;b++)i_dot=h.array[a],j_dot=h.array[b],i_dot.x-j_dot.x<h.distance&&i_dot.y-j_dot.y<h.distance&&i_dot.x-j_dot.x>-h.distance&&i_dot.y-j_dot.y>-h.distance&&i_dot.x-i.x<h.d_radius&&i_dot.y-i.y<h.d_radius&&i_dot.x-i.x>-h.d_radius&&i_dot.y-i.y>-h.d_radius&&(e.lineWidth=.3,e.beginPath(),e.moveTo(i_dot.x,i_dot.y),e.lineTo(j_dot.x,j_dot.y),e.stroke(),e.closePath())}},idle=setInterval(b,1e3/30),$(d).on("mousemove mouseleave click",function(a){("mousemove"==a.type||"click"==a.type)&&(i.x=a.pageX+400,i.y=a.pageY),"mouseleave"==a.type}),$(".easteregg").click(function(){$("#myModal").foundation("reveal","open","modal.html")});var j=!1;$(".party").click(function(){function a(){var a=j.duration,b=j.currentTime,c=c=b/a*100;$(".player_progress_bar").width(c+"%")}bounce=function(a){1==a?$("body").addClass("bounce"):$("body").removeClass("bounce")};var b=$(this);if(j)j.paused?(j.play(),bounce(!0),$(this).html("Pause")):(j.pause(),bounce(!1),$(this).html("Play"));else{j=document.createElement("audio"),j.setAttribute("src","mp3/miami.mp3"),j.setAttribute("autoplay","autoplay"),$(this).html("Lade Musik ..."),$(this).addClass("disabled"),b.addClass("active"),b.removeClass("scale"),$(".player_wrapper").slideDown(),$.get(),j.addEventListener("loadeddata",function(){b.html("Pause"),bounce(!0),b.removeClass("disabled")},!0);setInterval(a,20);j.addEventListener("ended",function(){this.currentTime=0,this.play()},!1)}}),$(".player_wrapper").click(function(a){var b=a.pageX,c=$(document).width(),d=b/c;length=j.duration,play_target=length*d,j.currentTime=play_target}),$(document).foundation()}var color_1="#4D7EA8",color_2="#D1340D";$(document).ready(function(){resizeWindow(),createCanvas(),$(window).resize(function(){resizeWindow()}),createIconChart(),data_counter=setInterval(dataCounter,1e3/15),$(".toggle-menu a").click(function(a){a.preventDefault(),$(this).closest(".top-bar").toggleClass("expanded")})});